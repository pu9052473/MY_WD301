import{A as n}from"./constants-qZa9FZnL.js";const c=async o=>{const a=localStorage.getItem("authToken")??"";try{o({type:"FETCH_PROJECTS_REQUEST"});const t=await(await fetch(`${n}/projects`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).json();o({type:"FETCH_PROJECTS_SUCCESS",payload:t})}catch(e){console.log("Error fetching projects:",e),o({type:"FETCH_PROJECTS_FAILURE",payload:"Unable to load projects"})}},p=async(o,a)=>{try{const e=localStorage.getItem("authToken")??"",t=await fetch(`${n}/projects`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(a)});if(!t.ok)throw new Error("Failed to create project");const r=await t.json();return r.errors&&r.errors.length>0?{ok:!1,error:r.errors[0].message}:(o({type:"ADD_PROJECT_SUCCESS",payload:r}),{ok:!0})}catch(e){return console.error("Operation failed:",e),{ok:!1,error:e}}};export{p as a,c as f};
